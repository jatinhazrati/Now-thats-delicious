{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/constants.js","webpack:///./public/javascripts/modules/bling.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/browser/browser-client.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","webpack:///./node_modules/@mapbox/parse-mapbox-token/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./public/javascripts/delicious-app.js","webpack:///./public/javascripts/modules/autocomplete.js","webpack:///./node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js","webpack:///./node_modules/suggestions/index.js","webpack:///./node_modules/suggestions/src/suggestions.js","webpack:///./node_modules/fuzzy/lib/fuzzy.js","webpack:///./node_modules/suggestions/src/list.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","webpack:///./node_modules/@mapbox/mapbox-sdk/index.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","webpack:///./node_modules/base-64/base64.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/geocoding.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js","webpack:///./node_modules/@mapbox/fusspot/lib/index.js","webpack:///./node_modules/is-plain-obj/index.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","webpack:///./node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","webpack:///./node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js","webpack:///./node_modules/nanoid/index.browser.js","webpack:///./node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js","webpack:///./node_modules/subtag/subtag.js","webpack:///./public/javascripts/modules/typeAhead.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/node-libs-browser/node_modules/process/browser.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/dompurify/dist/purify.js","webpack:///./public/javascripts/modules/map.js","webpack:///./public/javascripts/modules/heart.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","toString","isArray","val","isUndefined","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","arguments","deepMerge","extend","a","b","thisArg","trim","str","replace","target","source","API_ORIGIN","EVENT_PROGRESS_DOWNLOAD","EVENT_PROGRESS_UPLOAD","EVENT_ERROR","EVENT_RESPONSE","ERROR_HTTP","ERROR_REQUEST_ABORTED","$","querySelector","$$","querySelectorAll","Node","on","this","addEventListener","NodeList","__proto__","Array","elem","g","Function","e","browser","MapiClient","BrowserClient","options","sendRequest","browserSend","abortRequest","browserAbort","parseToken","MapiRequest","constants","accessToken","Error","origin","createRequest","requestOptions","base64","tokenCache","has","token","parts","split","usage","rawPayload","parsedPayload","JSON","parse","decode","parseError","parsePaylod","user","u","authorization","expires","exp","created","iat","scopes","client","lastLogin","ll","impersonator","iu","__webpack_amd_options__","args","apply","utils","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","v","toISOString","stringify","push","join","hashmarkIndex","indexOf","slice","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","adapter","defaults","XMLHttpRequest","process","transformRequest","data","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","method","settle","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","config","Promise","resolve","reject","requestData","requestHeaders","request","auth","username","password","Authorization","btoa","fullPath","baseURL","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","cookies","xsrfValue","withCredentials","read","undefined","toLowerCase","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","message","code","error","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","prop","axiosKeys","concat","otherKeys","keys","filter","Cancel","ajaxHeart","MapboxGeocoder","input","latInput","lngInput","mapboxgl","geocoder","addTo","place_name","geometry","coordinates","style","Typeahead","debounce","EventEmitter","exceptions","MapboxClient","mbxGeocoder","MapboxEventManager","localization","subtag","_eventEmitter","inputString","fresh","lastSelected","zoom","flyTo","trackProximity","minLength","reverseGeocode","limit","enableEventLogging","marker","collapsed","clearAndBlurOnEsc","clearOnBlur","getItemValue","item","render","placeName","splice","container","_controlContainer","addControl","startsWith","parent","parentEl","el","onAdd","appendChild","map","_map","setLanguage","localGeocoderOnly","geocoderService","localGeocoder","eventManager","_onChange","_onKeyDown","_onPaste","_onBlur","_showButton","_hideButton","_onQueryResult","clear","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","createElement","className","searchIcon","createIcon","_inputEl","type","setPlaceholder","keyevent","actions","classList","add","_clearEl","setAttribute","buttonIcon","_loadingEl","_typeahead","setRenderFunction","mapMarker","_handleMarker","_mapboxgl","console","path","icon","createElementNS","innerHTML","onRemove","parentNode","removeChild","off","_removeMarker","clipboardData","getData","_geocode","ESC_KEY_CODE","TAB_KEY_CODE","keyCode","blur","shadowRoot","activeElement","display","metaKey","selected","flyOptions","properties","short_code","bbox","fitBounds","defaultFlyOptions","center","focus","scrollLeft","setSelectionRange","emit","select","searchInput","query","self","reduce","longitude","latitude","test","coords","parseFloat","reverse","types","forwardGeocode","localGeocoderRes","res","statusCode","body","features","start","update","_renderNoResults","catch","err","_renderError","ev","preventDefault","relatedTarget","results","getZoom","getCenter","wrap","setProximity","lng","lat","remove","_renderMessage","msg","renderError","_getPlaceholderText","placeholder","language","firstLanguage","localizedValue","setInput","proximity","getProximity","getRenderFunction","browserLocale","userLanguage","browserLanguage","getLanguage","setZoom","getFlyTo","setFlyTo","getPlaceholder","getBbox","setBbox","getCountries","countries","setCountries","getTypes","setTypes","getMinLength","setMinLength","getLimit","setLimit","getFilter","setFilter","setOrigin","getOrigin","markerOptions","color","Marker","setLngLat","removeListener","Suggestions","fuzzy","List","hideOnBlur","list","draw","handleKeyUp","handleKeyDown","handleFocus","handleBlur","handlePaste","handleInputChange","isEmpty","isVisible","items","active","original","hide","previous","next","selectingListItem","setTimeout","normalize","getCandidates","show","revisedData","match","candidate","createEvent","initEvent","dispatchEvent","fireEvent","callback","pre","post","extract","string","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","drawError","simpleFilter","pattern","array","opts","ch","patternIdx","len","totalScore","currScore","compareString","caseSensitive","idx","Infinity","rendered","score","arr","prev","element","index","sort","compare","component","wrapper","insertBefore","nextSibling","drawItem","li","handleMouseUp","move","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","objectToString","nativeMax","Math","max","nativeMin","min","now","Date","isSymbol","isObjectLike","toNumber","other","valueOf","isBinary","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","clearTimeout","flush","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","Number","isNaN","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","newListener","unshift","warned","w","String","emitter","count","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","handler","listeners","addListener","prependListener","once","prependOnceListener","position","originalListener","shift","pop","spliceOne","removeAllListeners","rawListeners","eventNames","MapiResponse","MapiError","requestsUnderway","normalizeBrowserProgressEvent","event","total","transferred","loaded","percent","sendRequestXhr","xhr","onprogress","file","mapiError","onload","id","createResponse","createRequestXhr","parseLinkHeader","responseData","rawBody","links","link","hasNextPage","nextPage","_extend","linkHeader","parsed","linkUrl","linkParams","rel","parsedLinkParams","param","parseParam","parseLink","errorType","raw","rawHeader","boundary","substring","parseSingleHeader","freeExports","freeModule","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","padding","output","charCodeAt","charAt","bitStorage","bitCounter","fromCharCode","define","nodeType","webpackPolyfill","deprecate","paths","children","xtend","urlUtils","requestId","defaultHeaders","headersWithDefaults","memo","_options","sent","aborted","prependOrigin","appendQueryObject","routeParams","appendQueryParam","accessTokenOwnerId","ownerId","interpolateRouteParams","_nextPageRequest","eachPage","handleResponse","nextPageRequest","getPage","handleError","clone","extendedOptions","prefix","Events","EE","evt","clearEvent","names","handlers","ee","a1","a2","a3","a4","a5","j","prefixed","encodeValue","punctuation","queryObject","delimiter","route","_","paramId","pick","stringifyBooleans","createServiceFactory","Geocoding","featureTypes","assertShape","required","oneOf","arrayOf","autocomplete","boolean","number","country","reverseMode","Blob","date","getTime","tuple","validatorObj","apiName","assert","strictShape","isPlainObject","createArrayValidator","validators","validatingTuple","validationResult","validate","plainArray","validator","processMessage","formatErrorMessage","nounPhrase","addArticle","prettifyResult","orList","prettyResult","isArrayCulprit","rootValidator","errorMessage","shape","plainObject","errorMessages","objectId","shapeValidator","shapeResult","invalidKeys","valueKey","requiredValidator","__required","oneOfType","messages","Boolean","every","equal","compareWith","range","any","x","objectMap","cb","createClient","ServicePrototype","clientOrConfig","isPrototypeOf","service","nanoid","endpoint","access_token","version","sessionID","generateSessionID","userAgent","getUserAgent","locale","shouldEnableLogging","eventQueue","flushInterval","maxQueueSize","timer","lastSentInput","lastSentIndex","resultIndex","getSelectedIndex","payload","getEventPayload","resultPlaceName","resultId","queryString","keyEvent","lastAction","getRequestOptions","host","sessionIdentifier","mapZoom","keyboardLocale","xhttp","header","headerValue","selectedID","feature","forceFlush","crypto","msCrypto","size","bytes","getRandomValues","Uint8Array","make","tag","api","extlang","script","region","expose","part","search","searchResults","axios","dompurify","sanitize","store","slug","includes","activeClass","current","nextElementSibling","previousElementSibling","href","location","Axios","mergeConfig","createInstance","defaultConfig","instance","instanceConfig","CancelToken","isCancel","all","promises","spread","default","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","fulfilled","rejected","getUri","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","noop","nextTick","title","env","argv","versions","binding","cwd","chdir","dir","umask","normalizedName","isAxiosError","toJSON","description","fileName","lineNumber","columnNumber","stack","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","line","substr","originURL","msie","urlParsingNode","resolveURL","protocol","hash","hostname","port","pathname","requestURL","write","domain","secure","cookie","toGMTString","RegExp","decodeURIComponent","executor","resolvePromise","factory","freeze$1","freeze","html","svg","svgFilters","mathMl","text","freeze$2","html$1","svg$1","mathMl$1","xml","setPrototypeOf","apply$1","addToSet","lcElement","isFrozen","newObject","thisValue","seal","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","iterator","_toConsumableArray","arr2","from","arraySlice","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","suffix","currentScript","hasAttribute","getAttribute","policyName","createHTML","html$$1","createDOMPurify","DOMPurify","removed","isSupported","originalDocument","useDOMParser","removeTitle","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","TrustedTypes","template","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","getElementsByTagName","createDocumentFragment","importNode","hooks","createHTMLDocument","documentMode","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","_forceRemove","node","outerHTML","_removeAttribute","attribute","getAttributeNode","removeAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","parseFromString","documentElement","firstElementChild","createTextNode","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","_isClobbered","elm","nodeName","textContent","attributes","namespaceURI","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","tagName","allowedTags","insertAdjacentHTML","htmlToInsert","cloneNode","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","idAttr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","importedNode","oldNode","returnNode","toStaticHTML","firstChild","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","loadPlaces","places","markers","place","placeLng","placeLat","photo","address","getLayer","removeLayer","addLayer","layout","mapDiv","Map","popup","Popup","closeButton","closeOnClick","setMaxWidth","getCanvas","cursor","abs","lngLat","setHTML","loadImage","image","addImage","action","isHearted","heart","toggle","hearts"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n","// based on https://gist.github.com/paulirish/12fb951a8b893a454b32\n\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nNode.prototype.on = window.on = function (name, fn) {\n  this.addEventListener(name, fn);\n};\n\nNodeList.prototype.__proto__ = Array.prototype; // eslint-disable-line\n\nNodeList.prototype.on = NodeList.prototype.addEventListener = function (name, fn) {\n  this.forEach((elem) => {\n    elem.on(name, fn);\n  });\n};\n\nexport { $, $$ };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = require('./lib/axios');","'use strict';\n\nvar browser = require('./browser-layer');\nvar MapiClient = require('../classes/mapi-client');\n\nfunction BrowserClient(options) {\n  MapiClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(MapiClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar MapiRequest = require('./mapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n","'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","import '../sass/style.scss'\n\nimport { $, $$ } from './modules/bling'\nimport autocomplete from './modules/autocomplete'\nimport typeAhead from './modules/typeAhead'\nimport makeMap from './modules/map'\nimport ajaxHeart from './modules/heart'\n\nautocomplete($('#address'), $('#lat'), $('#lng'))\ntypeAhead($('.search'))\nmakeMap('map')\n\nconst heartForms = $$('form.heart')\nheartForms.on('submit', ajaxHeart)\n","const MapboxGeocoder = require('@mapbox/mapbox-gl-geocoder')\n\nfunction autocomplete(input, latInput, lngInput) {\n  if (!input) return\n\n  const MAPBOX_KEY =\n    'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'\n  mapboxgl.accessToken = MAPBOX_KEY\n\n  let geocoder = new MapboxGeocoder({\n    accessToken: mapboxgl.accessToken,\n    mapboxgl: mapboxgl,\n  })\n\n  geocoder.addTo('#search-address')\n  geocoder.on('result', e => {\n    input.value = e.result.place_name\n    lngInput.value = e.result.geometry.coordinates[0]\n    latInput.value = e.result.geometry.coordinates[1]\n  })\n\n  document.querySelector('#search-address>div').style =\n    'width: 100%; max-width: unset; border: 1px solid #e6e6e6; box-shadow: unset; border-radius: 0; z-index: 1000; font-family: sans-serif; font-size: 100%; line-height: 1.15; margin: 0 0 10px 0;'\n}\n\nexport default autocomplete\n","'use strict';\n\nvar Typeahead = require('suggestions');\nvar debounce = require('lodash.debounce');\nvar extend = require('xtend');\nvar EventEmitter = require('events').EventEmitter;\nvar exceptions = require('./exceptions');\nvar MapboxClient = require('@mapbox/mapbox-sdk');\nvar mbxGeocoder = require('@mapbox/mapbox-sdk/services/geocoding');\nvar MapboxEventManager = require('./events');\nvar localization = require('./localization');\nvar subtag = require('subtag');\n\n/**\n * A geocoder component using the [Mapbox Geocoding API](https://docs.mapbox.com/api/search/#geocoding)\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} [options.origin=https://api.mapbox.com] Use to set a custom API origin.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is `true`.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\n * @param {Object} [options.proximity] a proximity argument: this is\n * a geographical point given as an object with `latitude` and `longitude`\n * properties. Search results closer to this point will be given\n * higher priority.\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will automatically update based on the map view.\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled, you should specify one type. If you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.\n * @param {Function} [options.filter] A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format.\n * @param {distance|score} [options.reverseMode=distance] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode=false] If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin.\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. Any HTML in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.\n * @param {String} [options.mode=mapbox.places] A string specifying the geocoding [endpoint](https://docs.mapbox.com/api/search/#endpoints) to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes.\n * @param {Boolean} [options.localGeocoderOnly=false] If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = item.place_name.split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n\n  /**\n   * Add the geocoder to a container. The container can be either a `mapboxgl.Map` or a reference to an HTML `class` or `id`.\n   *\n   * If the container is a `mapboxgl.Map`, this function will behave identically to `Map.addControl(geocoder)`.\n   * If the container is an HTML `id` or `class`, the geocoder will be appended to that element.\n   *\n   * This function will throw an error if the container is not either a map or a `class`/`id` reference.\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\n   *\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\n   *\n   * ```javascript\n   * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n   * geocoder.addTo('#geocoder-container');\n   * ```\n   * @param {String|mapboxgl.Map} container A reference to the container to which to add the geocoder\n   */\n  addTo: function(container){\n    // if the container is a map, add the control like normal\n    if (container._controlContainer){\n      //  it's a mapbox-gl map, add like normal\n      container.addControl(this)\n    }\n    // if the container is not a map, but an html element, then add the control to that element\n    else if (typeof container == 'string' && (container.startsWith('#') || container.startsWith('.'))){\n      const parent = document.querySelectorAll(container);\n      if (parent.length == 0){\n        throw new Error(\"Element \", container, \"not found.\")\n      }\n\n      if (parent.length > 1){\n        throw new Error(\"Geocoder can only be added to a single html element\")\n      }\n\n      parent.forEach(function(parentEl){\n        const el = this.onAdd(); //returns the input elements, which are then added to the requested html container\n        parentEl.appendChild(el);\n      }.bind(this))\n\n    }else{\n      throw new Error(\"Error: addTo Container must be a mapbox-gl-js map or a html element reference\")\n    }\n  },\n\n  onAdd: function(map) {\n    if (map && typeof map != 'string'){\n      this._map = map;\n    }\n\n    this.setLanguage();\n\n    if (!this.options.localGeocoderOnly){\n      this.geocoderService = mbxGeocoder(\n        MapboxClient({\n          accessToken: this.options.accessToken,\n          origin: this.options.origin\n        })\n      );\n    }\n\n    if (this.options.localGeocoderOnly && !this.options.localGeocoder){\n      throw new Error(\"A localGeocoder function must be specified to use localGeocoderOnly mode\")\n    }\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onPaste = this._onPaste.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('paste', this._onPaste);\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n    el.appendChild(actions);\n\n    this._typeahead = new Typeahead(this._inputEl, [], {\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    this.setRenderFunction(this.options.render);\n    this._typeahead.getItemValue = this.options.getItemValue;\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n    if (this._map){\n      if (this.options.trackProximity ) {\n        this._updateProximity();\n        this._map.on('moveend', this._updateProximity);\n      }\n      this._mapboxgl = this.options.mapboxgl;\n      if (!this._mapboxgl && this.options.marker) {\n        // eslint-disable-next-line no-console\n        console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n        this.options.marker = false;\n      }\n    }\n    return el;\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    icon.innerHTML = path;\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity && this._map) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _onPaste: function(e){\n    var value = (e.clipboardData || window.clipboardData).getData('text');\n    if (value.length >= this.options.minLength) {\n      this._geocode(value);\n    }\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      return (this._clearEl.style.display = 'none');\n    }\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if ((e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1))\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && JSON.stringify(selected) !== this.lastSelected) {\n      this._clearEl.style.display = 'none';\n      if (this.options.flyTo) {\n        var flyOptions;\n        if (selected.properties && !exceptions[selected.properties.short_code] && selected.bbox) {\n          var bbox = selected.bbox;\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n          }\n        } else if (selected.properties && exceptions[selected.properties.short_code]) {\n          // Certain geocoder search results return (and therefore zoom to fit)\n          // an unexpectedly large bounding box: for example, both Russia and the\n          // USA span both sides of -180/180, or France includes the island of\n          // Reunion in the Indian Ocean. An incomplete list of these exceptions\n          // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n          // short-term solution; this may be amended as necessary.\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n          }\n        } else {\n          var defaultFlyOptions = {\n            zoom: this.options.zoom\n          }\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n          //  ensure that center is not overriden by custom options\n          flyOptions.center = selected.center;\n          if (this._map){\n            this._map.flyTo(flyOptions);\n          }\n        }\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n      this.lastSelected = JSON.stringify(selected);\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n    }\n  },\n\n  _geocode: function(searchInput) {\n    this._loadingEl.style.display = 'block';\n    this._eventEmitter.emit('loading', { query: searchInput });\n    this.inputString = searchInput;\n    // Possible config proprerties to pass to client\n    var keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode',\n      'mode'\n    ];\n    var self = this;\n    // Create config object\n    var config = keys.reduce(function(config, key) {\n      if (self.options[key]) {\n        // countries, types, and language need to be passed in as arrays to client\n        // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n        ['countries', 'types', 'language'].indexOf(key) > -1\n          ? (config[key] = self.options[key].split(/[\\s,]+/))\n          : (config[key] = self.options[key]);\n\n        if (key === 'proximity' && self.options[key] && self.options[key].longitude && self.options[key].latitude) {\n          config[key] = [self.options[key].longitude, self.options[key].latitude]\n        }\n      }\n      return config;\n    }, {});\n\n    var request;\n    if (this.options.localGeocoderOnly){\n      request = Promise.resolve();\n    }\n    // check if searchInput resembles coordinates, and if it does,\n    // make the request a reverseGeocode\n    else if (\n      this.options.reverseGeocode &&\n      /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(searchInput)\n    ) {\n      // parse coordinates\n      var coords = searchInput.split(/[\\s(,)?]+/).map(function(c) {\n        return parseFloat(c, 10);\n      }).reverse();\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n      request = this.geocoderService.reverseGeocode(config).send();\n    } else {\n      config = extend(config, { query: searchInput });\n      request = this.geocoderService.forwardGeocode(config).send();\n    }\n\n    var localGeocoderRes = [];\n    if (this.options.localGeocoder) {\n      localGeocoderRes = this.options.localGeocoder(searchInput);\n      if (!localGeocoderRes) {\n        localGeocoderRes = [];\n      }\n    }\n\n    request.then(\n      function(response) {\n        this._loadingEl.style.display = 'none';\n\n        var res = {};\n\n        if (!response){\n          res = {\n            type: 'FeatureCollection',\n            features: []\n          }\n        }else if (response.statusCode == '200') {\n          res = response.body;\n          res.request = response.request\n          res.headers = response.headers\n        }\n\n        res.config = config;\n        if (this.fresh){\n          this.eventManager.start(this);\n          this.fresh = false;\n        }\n        // supplement Mapbox Geocoding API results with locally populated results\n        res.features = res.features\n          ? localGeocoderRes.concat(res.features)\n          : localGeocoderRes;\n\n        // apply results filter if provided\n        if (this.options.filter && res.features.length) {\n          res.features = res.features.filter(this.options.filter);\n        }\n\n        if (res.features.length) {\n          this._clearEl.style.display = 'block';\n          this._eventEmitter.emit('results', res);\n          this._typeahead.update(res.features);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderNoResults();\n          this._eventEmitter.emit('results', res);\n        }\n\n      }.bind(this)\n    );\n\n    request.catch(\n      function(err) {\n        this._loadingEl.style.display = 'none';\n\n        // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n        if (localGeocoderRes.length && this.options.localGeocoder) {\n          this._clearEl.style.display = 'block';\n          this._typeahead.update(localGeocoderRes);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderError();\n        }\n\n        this._eventEmitter.emit('results', { features: localGeocoderRes });\n        this._eventEmitter.emit('error', { error: err });\n      }.bind(this)\n    );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    this._clearEl.style.display = 'none';\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /*\n     * If relatedTarget is not found, assume user targeted the suggestions list.\n     * In that case, do not clear on blur. There are other edge cases where\n     * ev.relatedTarget could be null. Clicking on list always results in null\n     * relatedtarget because of upstream behavior in `suggestions`.\n     *\n     * The ideal solution would be to check if ev.relatedTarget is a child of\n     * the list. See issue #258 for details on why we can't do that yet.\n     */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (!this._map){\n      return;\n    }\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat });\n    } else {\n      this.setProximity(null);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput) {\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity) {\n    this.options.proximity = proximity;\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {Boolean|Object} The `flyTo` option\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.placeholder;\n    this._inputEl.setAttribute('aria-label', this.placeholder);\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Set the geocoding endpoint used by the plugin.\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\n   * @returns {MapboxGeocoder} this\n   */\n  setOrigin: function(origin){\n    this.options.origin = origin;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Get the geocoding endpoint the plugin is currently set to\n   * @returns {Function} the endpoint URL\n   */\n  getOrigin: function(){\n    return this.options.origin;\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    if (!this._map){\n      return;\n    }\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    if (selected.center) {\n      this.mapMarker\n        .setLngLat(selected.center)\n        .addTo(this._map);\n    } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n      this.mapMarker\n        .setLngLat(selected.geometry.coordinates)\n        .addTo(this._map);\n    }\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n","'use strict';\n\nvar MapiResponse = require('../classes/mapi-response');\nvar MapiError = require('../classes/mapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new MapiResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var mapiError = new MapiError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(mapiError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var mapiError = new MapiError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(mapiError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Mapbox's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  if (accessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', accessToken);\n    var accessTokenOwnerId = parseToken(accessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return !!v;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('./service-helpers/validator');\nvar pick = require('./service-helpers/pick');\nvar stringifyBooleans = require('./service-helpers/stringify-booleans');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://www.mapbox.com/api-documentation/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://www.mapbox.com/api-documentation/#search-for-places).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates} [config.proximity] - Bias local results based on a provided location.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @return {MapiRequest}\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.coordinates,\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string)\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://www.mapbox.com/api-documentation/#retrieve-places-near-a-location).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @return {MapiRequest}\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score')\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex ¯\\_(ツ)_/¯. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n","'use strict';\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n","'use strict';\n\nvar objectMap = require('./object-map');\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n","'use strict';\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n","'use strict';\n\nvar MapiClient = require('../../lib/classes/mapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n","'use strict';\nvar nanoid = require('nanoid')\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.2.0'\n  this.sessionID = this.generateSessionID();\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var resultIndex = this.getSelectedIndex(selected, geocoder);\n    var payload = this.getEventPayload('search.select', geocoder);\n    payload.resultIndex = resultIndex;\n    payload.resultPlaceName  = selected.place_name;\n    payload.resultId = selected.id;\n    if ((resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = resultIndex;\n    this.lastSentInput = payload.queryString;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Obeject} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder);\n    payload.lastAction = keyEvent.key;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder) {\n    var proximity;\n    if (!geocoder.options.proximity) proximity = null;\n    else proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : undefined;\n    var payload = {\n      event: event,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      // fuzzyMatch: search.fuzzy, //todo  --> add to plugin\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      // routing: search.routing, //todo --> add to plugin\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    }else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    }else{\n      payload.queryString = geocoder.inputString;\n    }\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin.indexOf('api.mapbox.com') == -1) return false;\n    // hard to make sense of events when a local instance is suplementing results from origin\n    if (options.localGeocoder) return false;\n    // hard to make sense of events when a custom filter is in use\n    if (options.filter) return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in production bundle\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you don’t need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Despite the fact the source code is quite long, its entropy\n// is low and there are lots of duplicates - just what compressors\n// like GZIP and Brotli likes the best.\nvar i\nvar url = '_-' + String.fromCharCode(\n  // ASCII codes for 0...9\n  i = 48, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1,\n\n  // ASCII codes for A...Z\n  i += 8, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1,\n\n  // ASCII codes for a...z\n  i += 7, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1, i += 1,\n  i += 1, i += 1\n)\n\nmodule.exports = function (size) {\n  size = size || 21\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size))\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (size--) {\n    // We can’t use bytes bigger than the alphabet. 63 is 00111111 bitmask.\n    // This mask reduces random byte 0-255 to 0-63 values.\n    // There is no need in `|| ''` and `* 1.6` hacks in here,\n    // because bitmask trim bytes exact to alphabet size.\n    id += url[bytes[size] & 63]\n  }\n  return id\n}\n","'use strict';\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n  // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': 'לחפש', //hebrew\n  'ja': 'サーチ',  //japanese\n  'lv': 'Meklēt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': 'Претрага', //serbian\n  'zh': '搜索', //chinese-simplified\n  'cs': 'Vyhledávání', //czech\n  'hu': 'Keresés', //hungarian\n  'ka': 'ძიება', // georgian\n  'nb': 'Søke', //norwegian\n  'sk': 'Vyhľadávanie', //slovak\n  'th': 'ค้นหา', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '수색',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje', //slovenian\n  'fa': 'جستجو' //persian(aka farsi)\n}\n\nmodule.exports = {placeholder: placeholder};\n","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'subtag', function() {\r\n\r\n  var empty = ''\r\n  var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/\r\n\r\n  function match(tag) {\r\n    return tag.match(pattern) || []\r\n  }\r\n\r\n  function split(tag) {\r\n    return match(tag).filter(function(v, i) { return v && i })\r\n  }\r\n\r\n  function api(tag) {\r\n    tag = match(tag)\r\n    return {\r\n      language: tag[1] || empty,\r\n      extlang: tag[2] || empty,\r\n      script: tag[3] || empty,\r\n      region: tag[4] || empty\r\n    }\r\n  }\r\n\r\n  function expose(target, key, value) {\r\n    Object.defineProperty(target, key, {\r\n      value: value,\r\n      enumerable: true\r\n    })\r\n  }\r\n\r\n  function part(position, pattern, type) {\r\n    function method(tag) {\r\n      return match(tag)[position] || empty\r\n    }\r\n    expose(method, 'pattern', pattern)\r\n    expose(api, type, method)\r\n  }\r\n\r\n  part(1, /^[a-zA-Z]{2,3}$/, 'language')\r\n  part(2, /^[a-zA-Z]{3}$/, 'extlang')\r\n  part(3, /^[a-zA-Z]{4}$/, 'script')\r\n  part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, 'region')\r\n\r\n  expose(api, 'split', split)\r\n\r\n  return api\r\n});\r\n","import axios from 'axios'\nimport dompurify from 'dompurify'\n\nfunction searchResultsHTML(stores) {\n  return stores\n    .map(store => {\n      return `\n      <a href=\"/store/${store.slug}\" class=\"search__result\">\n        <strong>${store.name}</strong>\n      </a>\n    `\n    })\n    .join('')\n}\n\nfunction typeAhead(search) {\n  if (!search) return\n\n  const searchInput = search.querySelector('input[name=\"search\"]')\n  const searchResults = search.querySelector('.search__results')\n\n  searchInput.on('input', function() {\n    if (!this.value) {\n      searchResults.style.display = 'none'\n      return\n    }\n\n    searchResults.style.display = 'block'\n    searchResults.innerHTML = ''\n    axios\n      .get(`/api/search?q=${this.value}`)\n      .then(res => {\n        if (res.data.length) {\n          searchResults.innerHTML = dompurify.sanitize(\n            searchResultsHTML(res.data)\n          )\n          return\n        } else {\n          searchResults.innerHTML = dompurify.sanitize(`\n            <div class=\"search__result\">No results for ${this.value} found!</div>\n          `)\n        }\n      })\n      .catch(err => console.error(err))\n  })\n\n  searchInput.on('keyup', function(e) {\n    if (![38, 40, 13].includes(e.keyCode)) {\n      return\n    }\n\n    const activeClass = 'search__result--active'\n    const current = search.querySelector(`.${activeClass}`)\n    const items = search.querySelectorAll('.search__result')\n    let next\n\n    if (e.keyCode === 40 && current) {\n      next = current.nextElementSibling || items[0]\n    } else if (e.keyCode === 40) {\n      next = items[0]\n    } else if (e.keyCode === 38 && current) {\n      next = current.previousElementSibling || items[items.length - 1]\n    } else if (e.keyCode === 38) {\n      next = items[items.length - 1]\n    } else if (e.keyCode === 13 && current.href) {\n      window.location = current.href\n      return\n    }\n\n    if (current) {\n      current.classList.remove(activeClass)\n    }\n    next.classList.add(activeClass)\n  })\n}\n\nexport default typeAhead\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.DOMPurify = factory());\n}(this, (function () { 'use strict';\n\nvar freeze$1 = Object.freeze || function (x) {\n  return x;\n};\n\nvar html = freeze$1(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n// SVG\nvar svg = freeze$1(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'audio', 'canvas', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'video', 'view', 'vkern']);\n\nvar svgFilters = freeze$1(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\nvar mathMl = freeze$1(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\nvar text = freeze$1(['#text']);\n\nvar freeze$2 = Object.freeze || function (x) {\n  return x;\n};\n\nvar html$1 = freeze$2(['accept', 'action', 'align', 'alt', 'autocomplete', 'background', 'bgcolor', 'border', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'coords', 'crossorigin', 'datetime', 'default', 'dir', 'disabled', 'download', 'enctype', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'integrity', 'ismap', 'label', 'lang', 'list', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns']);\n\nvar svg$1 = freeze$2(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\nvar mathMl$1 = freeze$2(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\nvar xml = freeze$2(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\nvar hasOwnProperty = Object.hasOwnProperty;\nvar setPrototypeOf = Object.setPrototypeOf;\n\nvar _ref$1 = typeof Reflect !== 'undefined' && Reflect;\nvar apply$1 = _ref$1.apply;\n\nif (!apply$1) {\n  apply$1 = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/* Add properties to a lookup table */\nfunction addToSet(set, array) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  var l = array.length;\n  while (l--) {\n    var element = array[l];\n    if (typeof element === 'string') {\n      var lcElement = element.toLowerCase();\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!Object.isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nfunction clone(object) {\n  var newObject = {};\n\n  var property = void 0;\n  for (property in object) {\n    if (apply$1(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n\nvar seal = Object.seal || function (x) {\n  return x;\n};\n\nvar MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nvar ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\nvar DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nvar ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nvar IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nvar IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nvar ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g // eslint-disable-line no-control-regex\n);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _ref = typeof Reflect !== 'undefined' && Reflect;\nvar apply = _ref.apply;\n\nvar arraySlice = Array.prototype.slice;\nvar freeze = Object.freeze;\n\nvar getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nvar _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n  if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  var suffix = null;\n  var ATTR_NAME = 'data-tt-policy-suffix';\n  if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML: function createHTML(html$$1) {\n        return html$$1;\n      }\n    });\n  } catch (error) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\n\nfunction createDOMPurify() {\n  var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n  var DOMPurify = function DOMPurify(root) {\n    return createDOMPurify(root);\n  };\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = '2.0.7';\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  var originalDocument = window.document;\n  var useDOMParser = false;\n  var removeTitle = false;\n\n  var document = window.document;\n  var DocumentFragment = window.DocumentFragment,\n      HTMLTemplateElement = window.HTMLTemplateElement,\n      Node = window.Node,\n      NodeFilter = window.NodeFilter,\n      _window$NamedNodeMap = window.NamedNodeMap,\n      NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n      Text = window.Text,\n      Comment = window.Comment,\n      DOMParser = window.DOMParser,\n      TrustedTypes = window.TrustedTypes;\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n\n  if (typeof HTMLTemplateElement === 'function') {\n    var template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  var trustedTypesPolicy = _createTrustedTypesPolicy(TrustedTypes, originalDocument);\n  var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  var _document = document,\n      implementation = _document.implementation,\n      createNodeIterator = _document.createNodeIterator,\n      getElementsByTagName = _document.getElementsByTagName,\n      createDocumentFragment = _document.createDocumentFragment;\n  var importNode = originalDocument.importNode;\n\n\n  var hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = implementation && typeof implementation.createHTMLDocument !== 'undefined' && document.documentMode !== 9;\n\n  var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n      ERB_EXPR$$1 = ERB_EXPR,\n      DATA_ATTR$$1 = DATA_ATTR,\n      ARIA_ATTR$$1 = ARIA_ATTR,\n      IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n  var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n\n  var ALLOWED_TAGS = null;\n  var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(svgFilters), _toConsumableArray(mathMl), _toConsumableArray(text)));\n\n  /* Allowed attribute names */\n  var ALLOWED_ATTR = null;\n  var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(mathMl$1), _toConsumableArray(xml)));\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  var FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  var FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  var ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  var ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Output should be safe for jQuery's $() factory? */\n  var SAFE_FOR_JQUERY = false;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  var SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  var WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  var SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  var FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  var RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  var RETURN_DOM_FRAGMENT = false;\n\n  /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n   * `Node` is imported into the current `Document`. If this flag is not enabled the\n   * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n   * DOMPurify. */\n  var RETURN_DOM_IMPORT = false;\n\n  /* Try to return a Trusted Type object instead of a string, retrun a string in\n   * case Trusted Types are not supported  */\n  var RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks? */\n  var SANITIZE_DOM = true;\n\n  /* Keep element content when removing element? */\n  var KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  var IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  var USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n  /* Tags that are safe for data: URIs */\n  var DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image']);\n\n  /* Attributes safe for values like \"javascript:\" */\n  var URI_SAFE_ATTRIBUTES = null;\n  var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n  /* Keep a reference to config to pass to hooks */\n  var CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  var formElement = document.createElement('form');\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  var _parseConfig = function _parseConfig(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n      cfg = {};\n    }\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n    IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(text)));\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html);\n        addToSet(ALLOWED_ATTR, html$1);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg);\n        addToSet(ALLOWED_ATTR, svg$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl);\n        addToSet(ALLOWED_ATTR, mathMl$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  var _forceRemove = function _forceRemove(node) {\n    DOMPurify.removed.push({ element: node });\n    try {\n      node.parentNode.removeChild(node);\n    } catch (error) {\n      node.outerHTML = emptyHTML;\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  var _removeAttribute = function _removeAttribute(name, node) {\n    try {\n      DOMPurify.removed.push({\n        attribute: node.getAttributeNode(name),\n        from: node\n      });\n    } catch (error) {\n      DOMPurify.removed.push({\n        attribute: null,\n        from: node\n      });\n    }\n\n    node.removeAttribute(name);\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  var _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    var doc = void 0;\n    var leadingWhitespace = void 0;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      var matches = dirty.match(/^[\\s]+/);\n      leadingWhitespace = matches && matches[0];\n      if (leadingWhitespace) {\n        dirty = dirty.slice(leadingWhitespace.length);\n      }\n    }\n\n    /* Use DOMParser to workaround Firefox bug (see comment below) */\n    if (useDOMParser) {\n      try {\n        doc = new DOMParser().parseFromString(dirty, 'text/html');\n      } catch (error) {}\n    }\n\n    /* Remove title to fix a mXSS bug in older MS Edge */\n    if (removeTitle) {\n      addToSet(FORBID_TAGS, ['title']);\n    }\n\n    /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n    Safari (see comment below) */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createHTMLDocument('');\n      var _doc = doc,\n          body = _doc.body;\n\n      body.parentNode.removeChild(body.parentNode.firstElementChild);\n      body.outerHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    }\n\n    if (dirty && leadingWhitespace) {\n      doc.body.insertBefore(document.createTextNode(leadingWhitespace), doc.body.childNodes[0] || null);\n    }\n\n    /* Work on whole document or just its body */\n    return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n  };\n\n  // Firefox uses a different parser for innerHTML rather than\n  // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n  // which means that you *must* use DOMParser, otherwise the output may\n  // not be safe if used in a document.write context later.\n  //\n  // So we feature detect the Firefox bug and use the DOMParser if necessary.\n  //\n  // Chrome 77 and other versions ship an mXSS bug that caused a bypass to\n  // happen. We now check for the mXSS trigger and react accordingly.\n  if (DOMPurify.isSupported) {\n    (function () {\n      try {\n        var doc = _initDocument('<svg><p><textarea><img src=\"</textarea><img src=x abc=1//\">');\n        if (doc.querySelector('svg img')) {\n          useDOMParser = true;\n        }\n      } catch (error) {}\n    })();\n\n    (function () {\n      try {\n        var doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n        if (/<\\/title/.test(doc.querySelector('title').innerHTML)) {\n          removeTitle = true;\n        }\n      } catch (error) {}\n    })();\n  }\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  var _createIterator = function _createIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, function () {\n      return NodeFilter.FILTER_ACCEPT;\n    }, false);\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  var _isClobbered = function _isClobbered(elm) {\n    if (elm instanceof Text || elm instanceof Comment) {\n      return false;\n    }\n\n    if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string') {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  var _isNode = function _isNode(obj) {\n    return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? obj instanceof Node : obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && typeof obj.nodeType === 'number' && typeof obj.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    hooks[entryPoint].forEach(function (hook) {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  // eslint-disable-next-line complexity\n  var _sanitizeElements = function _sanitizeElements(currentNode) {\n    var content = void 0;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    var tagName = currentNode.nodeName.toLowerCase();\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName: tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n\n    /* Take care of an mXSS pattern using p, br inside svg, math */\n    if ((tagName === 'svg' || tagName === 'math') && currentNode.querySelectorAll('p, br').length !== 0) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Keep content except for black-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName] && typeof currentNode.insertAdjacentHTML === 'function') {\n        try {\n          var htmlToInsert = currentNode.innerHTML;\n          currentNode.insertAdjacentHTML('AfterEnd', trustedTypesPolicy ? trustedTypesPolicy.createHTML(htmlToInsert) : htmlToInsert);\n        } catch (error) {}\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove in case a noscript/noembed XSS is suspected */\n    if (tagName === 'noscript' && /<\\/noscript/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    if (tagName === 'noembed' && /<\\/noembed/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Convert markup to cover jQuery behavior */\n    if (SAFE_FOR_JQUERY && !currentNode.firstElementChild && (!currentNode.content || !currentNode.content.firstElementChild) && /</g.test(currentNode.textContent)) {\n      DOMPurify.removed.push({ element: currentNode.cloneNode() });\n      if (currentNode.innerHTML) {\n        currentNode.innerHTML = currentNode.innerHTML.replace(/</g, '&lt;');\n      } else {\n        currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n      }\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = content.replace(MUSTACHE_EXPR$$1, ' ');\n      content = content.replace(ERB_EXPR$$1, ' ');\n      if (currentNode.textContent !== content) {\n        DOMPurify.removed.push({ element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && DATA_ATTR$$1.test(lcName)) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && ARIA_ATTR$$1.test(lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      return false;\n\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (IS_ALLOWED_URI$$1.test(value.replace(ATTR_WHITESPACE$$1, ''))) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && value.indexOf('data:') === 0 && DATA_URI_TAGS[lcTag]) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (ALLOW_UNKNOWN_PROTOCOLS && !IS_SCRIPT_OR_DATA$$1.test(value.replace(ATTR_WHITESPACE$$1, ''))) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  // eslint-disable-next-line complexity\n  var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    var attr = void 0;\n    var value = void 0;\n    var lcName = void 0;\n    var idAttr = void 0;\n    var l = void 0;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    var attributes = currentNode.attributes;\n\n    /* Check if we have attributes; if not we might have a text node */\n\n    if (!attributes) {\n      return;\n    }\n\n    var hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      var _attr = attr,\n          name = _attr.name,\n          namespaceURI = _attr.namespaceURI;\n\n      value = attr.value.trim();\n      lcName = name.toLowerCase();\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Remove attribute */\n      // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n      // remove a \"name\" attribute from an <img> tag that has an \"id\"\n      // attribute at the time.\n      if (lcName === 'name' && currentNode.nodeName === 'IMG' && attributes.id) {\n        idAttr = attributes.id;\n        attributes = apply(arraySlice, attributes, []);\n        _removeAttribute('id', currentNode);\n        _removeAttribute(name, currentNode);\n        if (attributes.indexOf(idAttr) > l) {\n          currentNode.setAttribute('id', idAttr.value);\n        }\n      } else if (\n      // This works around a bug in Safari, where input[type=file]\n      // cannot be dynamically set after type has been removed\n      currentNode.nodeName === 'INPUT' && lcName === 'type' && value === 'file' && hookEvent.keepAttr && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n        continue;\n      } else {\n        // This avoids a crash in Safari v9.0 with double-ids.\n        // The trick is to first set the id to be empty and then to\n        // remove the attribute\n        if (name === 'id') {\n          currentNode.setAttribute(name, '');\n        }\n\n        _removeAttribute(name, currentNode);\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Take care of an mXSS pattern using namespace switches */\n      if (/svg|math/i.test(currentNode.namespaceURI) && new RegExp('</(' + Object.keys(FORBID_CONTENTS).join('|') + ')', 'i').test(value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = value.replace(MUSTACHE_EXPR$$1, ' ');\n        value = value.replace(ERB_EXPR$$1, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      var lcTag = currentNode.nodeName.toLowerCase();\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        DOMPurify.removed.pop();\n      } catch (error) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    var shadowNode = void 0;\n    var shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg) {\n    var body = void 0;\n    var importedNode = void 0;\n    var currentNode = void 0;\n    var oldNode = void 0;\n    var returnNode = void 0;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    if (!dirty) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw new TypeError('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw new TypeError('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    if (IN_PLACE) {\n      /* No special handling necessary for in-place sanitization */\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!-->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && RETURN_TRUSTED_TYPE && dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : emptyHTML;\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (RETURN_DOM_IMPORT) {\n        /* AdoptNode() is not used because internal state is not reset\n               (e.g. the past names map of a HTMLFormElement), this is safe\n               in theory but we would rather not risk another attack vector.\n               The state that is cloned by importNode() is explicitly defined\n               by the specs. */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = serializedHTML.replace(MUSTACHE_EXPR$$1, ' ');\n      serializedHTML = serializedHTML.replace(ERB_EXPR$$1, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    var lcTag = tag.toLowerCase();\n    var lcName = attr.toLowerCase();\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    hooks[entryPoint].push(hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint].pop();\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nvar purify = createDOMPurify();\n\nreturn purify;\n\n})));\n//# sourceMappingURL=purify.js.map\n","import axios from 'axios'\nimport { $ } from './bling'\n\nfunction loadPlaces(map, lat = 43.2, lng = -79.8) {\n  axios.get(`/api/stores/near?lat=${lat}&lng=${lng}`).then(res => {\n    const places = res.data\n    if (!places.length) return\n    const markers = places.map(place => {\n      const [placeLng, placeLat] = place.location.coordinates\n\n      return {\n        type: 'Feature',\n        properties: {\n          description: `\n            <div class=\"popup\">\n              <a href=\"/store/${place.slug}\">\n                <img src=\"/uploads/${place.photo || 'store.png'}\" alt=\"${\n            place.name\n          }\"/>\n                <p>${place.name} - ${place.location.address}</p>\n              </a>\n            </div>\n          `,\n        },\n        geometry: {\n          type: 'Point',\n          coordinates: [placeLng, placeLat],\n        },\n      }\n    })\n\n    if (map.getLayer('markers')) {\n      map.removeLayer('markers')\n    }\n\n    map.addLayer({\n      id: 'markers',\n      type: 'symbol',\n      source: {\n        type: 'geojson',\n        data: {\n          type: 'FeatureCollection',\n          features: markers,\n        },\n      },\n      layout: {\n        'icon-image': 'custom-marker',\n      },\n    })\n  })\n}\n\nfunction makeMap(mapDiv) {\n  if (!$(`#${mapDiv}`)) return\n\n  const MAPBOX_KEY =\n    'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'\n  mapboxgl.accessToken = MAPBOX_KEY\n  let map = new mapboxgl.Map({\n    container: mapDiv, // container id\n    style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location\n    center: [-79.8, 43.2], // starting position [lng, lat]\n    zoom: 11, // starting zoom\n  })\n\n  loadPlaces(map)\n\n  let geocoder = new MapboxGeocoder({\n    accessToken: mapboxgl.accessToken,\n    mapboxgl: mapboxgl,\n  })\n\n  geocoder.on('result', e => {\n    loadPlaces(\n      map,\n      e.result.geometry.coordinates[0],\n      e.result.geometry.coordinates[1]\n    )\n  })\n\n  map.addControl(geocoder)\n\n  map.on('load', function() {\n    let popup = new mapboxgl.Popup({\n      closeButton: true,\n      closeOnClick: false,\n    })\n    popup.setMaxWidth('unset')\n\n    map.on('click', 'markers', function(e) {\n      // Change the cursor style as a UI indicator.\n      map.getCanvas().style.cursor = 'pointer'\n\n      var coordinates = e.features[0].geometry.coordinates.slice()\n      var description = e.features[0].properties.description\n\n      // Ensure that if the map is zoomed out such that multiple\n      // copies of the feature are visible, the popup appears\n      // over the copy being pointed to.\n      while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360\n      }\n\n      // Populate the popup and set its coordinates\n      // based on the feature found.\n      popup\n        .setLngLat(coordinates)\n        .setHTML(description)\n        .addTo(map)\n    })\n\n    /* Image: An image is loaded and added to the map. */\n    map.loadImage('https://i.imgur.com/MK4NUzI.png', function(error, image) {\n      if (error) throw error\n      map.addImage('custom-marker', image)\n    })\n  })\n}\n\nexport default makeMap\n","import axios from 'axios'\nimport { $ } from './bling'\n\nfunction ajaxHeart(e) {\n  e.preventDefault()\n  axios\n    .post(this.action)\n    .then(res => {\n      const isHearted = this.heart.classList.toggle('heart__button--hearted')\n      $('.heart-count').textContent = res.data.hearts.length\n\n      if (isHearted) {\n        this.heart.classList.add('heart__button--float')\n        setTimeout(\n          () => this.heart.classList.remove('heart__button--float'),\n          2500\n        )\n      }\n    })\n    .catch(err => console.error(err))\n}\n\nexport default ajaxHeart\n"],"sourceRoot":""}